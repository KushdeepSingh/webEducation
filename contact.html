<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Project - Education</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <!-- Popper JS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <!-- Typed CSS -->
        <link rel="stylesheet" href="style.css">
        <link href='https://fonts.googleapis.com/css?family=Eagle Lake' rel='stylesheet'>
        
    </head>
    <body>
        <nav class="navbar navbar-expand bg-dark header text-primary">
            <div class="webName">
                <a href="index.html">
                    <h1 class="web-name">
                        Web Educators
                    </h1>
                </a>
            </div>
            <div class="options">
                <!-- <ul class="nav navbar-nav menu">
                    <li class="menuitems "><a href="index.html">Home</a></li>
                    <li class="menuitems"><a href="#">Lorem</a></li>
                    <li class="menuitems"><a href="#">About</a></li>
                    <li class="menuitems "><a href="contact.html" class="btn">Contact</a></li>
                </ul> -->
                <div class="nav navbar-nav menu">
                    <a href="index.html" class="btn btn-lg rounded-0 py-3">Home</a>
                    <a href="contact.html" class="btn btn-lg rounded-0 py-3">Contact</a>
                </div>
            </div>
        </nav>
        <div class="container-fluid form-container">
            <div class="row">
                <div class="form-box">
                    <form autocomplete="off" name="google-sheet" id="submit-form">
                        <div class="form-group form-inline">
                            <label for="Name">Full Name</label> &emsp;
                            <input type="text" name="Full-Name" id="Name" placeholder="Enter Your Full Name" class="form-control">
                        </div>
                        &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;<span class="text-danger" id="name-error"></span>
                        <div class="form-group form-inline">
                            <label for="Phone">Phone Number</label> &emsp;
                            <input type="number" name="Phone" id="Phone" placeholder="Enter Your Phone Number" title="Don't Add 0 or +91 " class="form-control">
                        </div>
                        &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;<span class="text-danger" id="number-error"></span>
                        <div class="form-group form-inline">
                            <label for="Email">Email</label> &emsp;
                            <input type="email" name="Email-Id" id="Email" placeholder="Enter Your Email Address" class="form-control">
                        </div>
                        &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;<span class="text-danger" id="email-error"></span>
                        <div class="form-group form-inline">
                            <label for="Message">Message</label> &emsp;
                            <textarea name="Message" class="form-control" id="Message" cols="29" maxlength="100" placeholder="Enter your Queries, Reviews, or Comments" title="max length 100" rows="3" style="resize: none;"></textarea>
                        </div>
                        &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;<span class="text-danger" id="msg-error"></span>
                        <div class="form-group form-inline button">
                            <input type="submit" value="Submit" id="submit" class="btn btn-dark">
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <footer class="bg-dark text-primary footer">
            <span class="text-light">Developed by <a class="name">Kushdeep Singh</a> and <a class="name">Jaskeerat Singh</a></span>
        </footer>
        <!-- <script>
            const scriptURL = 'https://script.google.com/macros/s/AKfycbz4-P5FVphK0ldFBEvgKYTMvsPZWLvhG3aVfASwaqOnltp0hEQ/exec'
            const form = document.forms['google-sheet']
          
            form.addEventListener('submit', e => {
              e.preventDefault()
              fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(location.reload(),response => alert("Thanks for Contacting us..! We Will Contact You Soon..."))
                .catch(error => console.error('Error!', error.message))
            })
          </script> -->
        <script>
            const contactForm = document.getElementById('submit-form')
            const Name = document.getElementById('Name')
            const Email = document.getElementById('Email')
            const Phone = document.getElementById('Phone')
            const Message = document.getElementById('Message')
            var flag = 0,str;


            contactForm.addEventListener('submit', (e) =>{
                
                e.preventDefault()
                if(Name.value === '' || Name.value === null){
                    document.getElementById('name-error').innerText = "* Please Enter Valid Name"
                    Name.style.outline = "2px solid rgb(220 53 69)"
                    flag = 0;
                }
                else
                {
                    document.getElementById('name-error').innerText = ""
                    Name.style.outline = "none"
                    flag = 1;
                }
                Phone.value.toString();
                var b=Phone.value.length;
                if(Phone.value === '' || Phone.value === null || b !== 10){
                    document.getElementById('number-error').innerText = "* Please Enter Valid Phone Number"
                    Phone.style.outline = "2px solid rgb(220 53 69)"
                    flag = 0;
                }
                else
                {
                    document.getElementById('number-error').innerText = ""
                    Phone.style.outline = "none"
                    flag = 1;
                }
                
                if(Message.value.length === 0 || Message.value.length <= 10){
                    document.getElementById('msg-error').innerText = "* Please Enter Valid Message"
                    Message.style.outline = "2px solid rgb(220 53 69)"
                    flag = 0;
                }
                else
                {
                    document.getElementById('msg-error').innerText = ""
                    Message.style.outline = "none"
                    flag = 1;
                }

                a=Email.value;
                f1=a.indexOf('@');
                f2=a.indexOf('@',f1+1);
                e1=a.indexOf('.');
                e2=a.indexOf('.',e1+1);
                n=a.length;

                if(!(f1>0 && f2==-1 && e1>0 && e2==-1 && f1!=e1+1 && e1!=f1+1 && f1!=n-1 && e1!=n-1))
                {   
                    document.getElementById('email-error').innerText = "* Please Enter Valid Email"
                    Email.style.outline = "2px solid rgb(220 53 69)"
                    flag = 0;
                }
                else
                {
                    document.getElementById('email-error').innerText = ""
                    Email.style.outline = "none"
                    flag = 1;
                }

                if(flag==0){
                    e.preventDefault()
                }
                else
                {
                    // $("#submit-form").submit((e)=>{
                    //     e.preventDefault()
                    //     $.ajax({
                    //         url:"https://script.google.com/macros/s/AKfycbz4-P5FVphK0ldFBEvgKYTMvsPZWLvhG3aVfASwaqOnltp0hEQ/exec",
                    //         data:$("#submit-form").serialize(),
                    //         method:"post",
                    //         success:function (response){
                    //             alert("Form submitted successfully")
                    //             window.location.reload()
                    //         },
                    //         error:function (err){
                    //             alert("Something Error")
                
                    //         }
                    //     })
                    // })
                    const scriptURL = 'https://script.google.com/macros/s/AKfycbz4-P5FVphK0ldFBEvgKYTMvsPZWLvhG3aVfASwaqOnltp0hEQ/exec'
                    const form = document.forms['google-sheet']
                
                    form.addEventListener('submit', e => {
                    e.preventDefault()
                    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                        .then(location.reload(),response => alert("Thanks for Contacting us..! We Will Contact You Soon..."))
                        .catch(error => console.error('Error!', error.message))
                    })
                }
            })
        </script>
    </body>
</html>